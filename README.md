# Gwefan Cribarth

**Documentation Hub for the Cribarth Product Ecosystem.**

This project is the central documentation site for products and projects in production across the Cribarth portfolio. It serves as the public or internal reference point for system architecture, user guides, and product catalogs.

## Tech Stack

- **Framework:** Hugo (Static Site Generator)
- **Deployment:** GitHub Actions to GitHub Pages
- **Domain:** `https://gwefan.cribarth.cymru/`
- **Theme:** Ananke (customized, vendored as git submodule)
- **CI/CD:** Automated deployment via GitHub Actions workflow

## Content Structure

- `content/cy/`: Welsh language content (default language)
- `content/en/`: English language content
- `content/projects/`: Archive and status of ongoing projects
- `content/posts/`: Blog articles and updates

## Development

### Local Development

1.  **Run locally with auto-reload:**
    ```bash
    hugo server
    ```
    - Site available at: `http://localhost:1313`
    - Auto-reloads on content changes

2.  **Build for production:**
    ```bash
    hugo --minify
    ```
    - Generates optimized site in `public/` directory
    - Includes minification for CSS/JS

### Publishing Workflow

**Option 1: Using the publish script (recommended)**
```bash
./publish.sh
```
- Builds the site
- Prompts for commit message
- Commits and pushes to GitHub
- Triggers automatic GitHub Actions deployment

**Option 2: Manual deployment process**
```bash
# Build the site
hugo --minify

# Commit changes
git add .
git commit -m "Your commit message"
git push
```

### Deployment Process

1. **Push to main branch** triggers GitHub Actions workflow
2. **Automated build** runs `hugo --minify` on Ubuntu latest
3. **Deployment** to GitHub Pages from `./public` directory
4. **Live site** updates at `https://gwefan.cribarth.cymru/`

### Verification

- **Check workflow status:** `https://github.com/[your-repo]/actions`
- **View live site:** `https://gwefan.cribarth.cymru/`
- **Test bilingual functionality:** Verify both `/cy/` and `/en/` paths work

## Bilingual Features

- **Default language:** Welsh (`cy`)
- **Secondary language:** English (`en`)
- **Language switching:** Automatic via Hugo multilingual support
- **Content parity:** All content should exist in both languages
- **i18n support:** Translation files in `i18n/` directory

## Project Structure

```
.
├── content/                # Bilingual content (cy/ and en/ subdirectories)
├── themes/ananke/         # Theme submodule
├── static/                 # Static assets
├── assets/                 # Custom CSS/JS (Hugo Pipes)
├── i18n/                   # Translation files
├── .github/workflows/      # GitHub Actions workflows
├── hugo.toml               # Site configuration
├── publish.sh              # Publishing helper script
└── public/                 # Generated output (not committed)
```

## Important Notes

- **Submodules:** Ananke theme is included as a git submodule - use `git submodule update --init` if needed
- **Bilingual parity:** Maintain equal content in both languages
- **No manual FTP:** Deployment is fully automated via GitHub Actions
- **Build cache:** `resources/` directory is auto-generated by Hugo

## Troubleshooting

**Common issues:**
- **Missing theme:** Run `git submodule update --init --recursive`
- **Build errors:** Check front matter syntax and required fields
- **Deployment failures:** Check GitHub Actions logs for details
- **Bilingual issues:** Verify `translationKey` fields match between languages
