# Hugo Publishing Workflow â€“ Gwefan Cribarth

This document explains how to create, edit, preview, and publish content for the
Hugo-based static website hosted at https://gwefan.cribarth.cymru.

---

## ğŸ›  Project Structure

- `content/cy/` â€“ Welsh content
- `content/en/` â€“ English content
- `themes/ananke/` â€“ Site theme, added via Git submodule
- `hugo.toml` â€“ Main configuration file
- `i18n/` â€“ Language strings for UI labels
- `static/CNAME` â€“ Contains custom domain name
- `public/` â€“ Output folder (auto-generated by Hugo)
- `.github/workflows/gh-pages.yml` â€“ GitHub Actions deployment

---

## âœï¸ Writing Content

1. Open the project in VS Code:

   ```bash
   code ~/Projects/gwefan-cribarth
   ```

2. Create a new post in the correct language:

   ```bash
   hugo new content/cy/posts/my-post.md
   hugo new content/en/posts/my-post.md
   ```

3. Edit the file and ensure this TOML front matter:

   ```toml
   +++
   title = "My Post"
   date = 2025-01-01T12:00:00+00:00
   draft = false
   +++
   ```

4. Save and preview with:
   ```bash
   hugo server
   ```
   Visit: `http://localhost:1313/cy/` and `http://localhost:1313/en/`

---

## ğŸš€ Publishing Workflow

1. Ensure content is saved and committed:

   ```bash
   git add .
   git commit -m "Update content"
   git push
   ```

2. GitHub Actions will:

   - Build the site with Hugo
   - Deploy output (`public/`) to `gh-pages` branch
   - Serve the site at: https://gwefan.cribarth.cymru

3. This is automated at `./publish.sh`

---

## ğŸŒ Custom Domain

- Managed via `static/CNAME` and Cloudflare DNS
- CNAME: `gwefan.cribarth.cymru â†’ glanyrafon01.github.io`
- GitHub Pages set to serve from `gh-pages` branch, root folder

---

## ğŸ§© Theme and Config

- Theme: Ananke (via submodule in `themes/ananke`)
- Config file: `hugo.toml`
  - Includes multilingual config: `defaultContentLanguage`, `defaultContentLanguageInSubdir`, and `[languages]`
- Footer attribution: handled via `layouts/_partials/site-footer.html` and localized in `i18n/`

---

## ğŸ” Common Commands

```bash
hugo                  # Build site
hugo server           # Local preview
git add .             # Stage changes
git commit -m "..."   # Commit
git push              # Deploy via GitHub Actions
```

---

For support, check the Hugo docs: https://gohugo.io/documentation/
